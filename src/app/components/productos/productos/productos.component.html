<app-menu></app-menu>
<div *ngFor="let alert of alerts">
    <alert [type]="alert.type" [dismissOnTimeout]="alert.timeout">
        <span [innerHtml]="alert.msg"></span>
    </alert>
</div>
<div class="container">
    <div class="col-md-12">
        <div class="card">
                <!--Card content-->
                <div class="card-body text-center form-group">
                    <!--Title-->
                    <div>
                        <h4 class="card-title" style="display: inline;">Productos</h4> 
                        <button routerLink="/productoAdd" class="btn btn-success btn-sinmmargen" style="float: right;">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                    <table class="table table-striped table-hover table-condensed">
                        <thead>
                            <tr>
                                <th class="text-center">ID</th>
                                <th class="text-center">Cod.Producto ERP</th>
                                <th class="text-center">Descripcion Corta</th>
                                <th class="text-center">Activo</th>
                                <th class="text-center">&nbsp;</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let producto of productosLista">
                                <td>{{producto.id}}</td>
                                <td>{{producto.codproductoerp}}</td>
                                <td>{{producto.descripcioncorta}}</td>
                                <td><input class="form-check-input position-static" [checked]="producto.activo"
                                           type="checkbox" id="defaultCheck2" disabled> 
                                </td>
                                <td>
                                    <div *ngIf="confirmarEliminadoId != producto.id">
                                        <button [routerLink]="['/producto',producto.id]" class="btn btn-sm btn-info btn-sinmmargen">
                                            <i class="fa fa-eye" style="font-size: 1.5em;"></i>
                                        </button>
                                        <button [routerLink]="['/productoEdit',producto.id]" class="btn btn-sm btn-info btn-sinmmargen">
                                            <i class="fa fa-pencil" style="font-size: 1.5em;"></i>
                                        </button>
                                        <button (click)="confirmarEliminar(producto.id)" class="btn btn-sm btn-danger btn-sinmmargen">
                                            <i class="fa fa-trash" style="font-size: 1.5em;"></i>
                                        </button>
                                    </div>
                                    <div class="seguro" *ngIf="confirmarEliminadoId == producto.id">
                                        <button (click)="onDeleteProducto(producto.id)" class="btn btn-sm btn-danger btn-sinmmargen">
                                            <i class="fa fa-check" style="font-size: 1.5em;"></i>
                                        </button>
                                        <button (click)="cancelarEliminar()" class="btn btn-sm btn-warning btn-sinmmargen">
                                            <i class="fa fa-close" style="font-size: 1.5em;"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
        
                </div>
                <div class="d-flex justify-content-center">
                    <!--Pagination -->
                    <nav class="my-2 pt-8">
                        <ul class="pagination pagination-circle pg-red mb-0">
            
                            <!--First-->
                            <li class="page-item disabled clearfix d-none d-md-block"><a class="page-link">Primero</a></li>
            
                            <!--Arrow left-->
                            <li class="page-item" [ngClass]="{disabled:bloque==0}">
                                <a (click)="decrementarBloquePag()" class="page-link" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Previous</span>
                            </a>
                            </li>
            
                            <!--Numbers-->
                            <li class="page-item" [ngClass]="{active:pagActual==bloque+1}"><a (click)="getProductosPagina(bloque+1)" class="page-link">{{bloque+1}}</a></li>
                            <li class="page-item" [ngClass]="{active:pagActual==bloque+2}"><a (click)="getProductosPagina(bloque+2)" class="page-link">{{bloque+2}}</a></li>
                            <li class="page-item" [ngClass]="{active:pagActual==bloque+3}"><a (click)="getProductosPagina(bloque+3)" class="page-link">{{bloque+3}}</a></li>
                            <li class="page-item" [ngClass]="{active:pagActual==bloque+4}"><a (click)="getProductosPagina(bloque+4)" class="page-link">{{bloque+4}}</a></li>
                            <li class="page-item" [ngClass]="{active:pagActual==bloque+5}"><a (click)="getProductosPagina(bloque+5)" class="page-link">{{bloque+5}}</a></li>
            
                            <!--Arrow right-->
                            <li class="page-item">
                                <a (click)="incrementarBloquePag()" class="page-link" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                                <span class="sr-only">Sig</span>
                            </a>
                            </li>
                            <li class="page-item clearfix d-none d-md-block"><a class="page-link">Ãšltimo</a></li>
                        </ul>
                    </nav>
                </div>
        
            </div>
    </div>
    
</div>
